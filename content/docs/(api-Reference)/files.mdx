---
title: File
description: API Reference Clean Files
---

## Overview
The `/v1/clean/file` endpoint allows users to upload and process documents such as PDFs, Word files, PowerPoint presentations, CSVs, and more. The API extracts structured data according to the defined schema and returns the results in JSON format.

- ✅ Supports Multiple File Formats: PDF, DOCX, PPTX, CSV, TXT, HTML, Markdown
- ✅ Automatic Data Extraction: Converts unstructured content into structured JSON
- ✅ Fast & Scalable: Built on Golang with caching for optimal performance
- ✅ Secure: No raw files are stored—only the processed JSON is cached for 24 hours

### 1. Endpoint
```bash
POST /v1/clean/file
```
#### Base URL
```bash
https://api.dcup.dev/v1/clean/file
```

### 2. Authentication
All requests require a Bearer Token (API Key) in the header.

Example Header
```bash
Authorization: Bearer YOUR_API_KEY
```

### 3. Request Format
#### - Headers
|Header|	Type|	Required|	Description|
|----|---|---|---|
|Authorization|	string|	✅ Yes|	API key for authentication (Bearer YOUR_API_KEY)|
| Content-Type|	multipart/form-data|	✅ Yes|	Must be multipart/form-data for file uploads|

#### - Body Parameters
|Parameter|	Type|	Required|	Description|
|----|----|----|----|
|files|	file|	✅ Yes|	The document(s) to be processed. Multiple files can be uploaded.|
|schema|	JSON|	✅ Yes| Define the structure of the extracted data|

### 4. Example Request
#### - JavaScript (Fetch API)

```js
const apiKey = 'YOUR_API_KEY';
const url = 'https://api.dcup.dev/v1/clean/file';
const formData = new FormData();

// Append a file (replace `fileInput` with an actual file input element)
formData.append('files', fileInput);

// Define a custom schema
const schema = {
    customer: { name: "string", id: "number" },
    total: "number",
    items: []
};
formData.append('schema', JSON.stringify(schema));

fetch(url, {
  method: "POST",
  headers: {
    Authorization: `Bearer ${apiKey}`,
  },
  body: formData,
})
  .then(response => response.json())
  .then(data => console.log('Extracted JSON:', data))
  .catch(error => console.error('Error:', error));

```

### 5. Example Response
Successful Response (200 OK)
```json
{
  "files": 1,
  "message": "file processed successfully",  
  "schema": {
    "customer": {
      "name": "John Doe",
      "id": 12345
    },
    "total": 459.99,
    "items": ["Laptop", "Mouse"]
  },
}

```
### 6. Error Handling
#### Common Errors & Responses

| HTTP Code |	Error Message |	Reason |
|-----|----|----|
|400 Bad Request |"No files provided"|	No file was included in the request.|
|400 Bad Request |"Schema is required"| No schema was included in the request.|
|400 Bad Request |"Invalid schema format"| Provided schema was Invalid.|
|401 Unauthorized |	"Invalid API Key"|	API Key is missing or incorrect.|
|402 Payment Required | "your current subscription does not allow processing that amount of data"| Please consider upgrading your plan |
|413 Payload Too Large |	"File size exceeds limit"|	The uploaded file exceeds the allowed size.|
|415 Unsupported Media Type |	"Unsupported file type"|	The uploaded file is in an unsupported format.|
|500 Internal Server Error |"Unexpected error"|	A server issue occurred; try again later.|

### Example Error Response (400 Bad Request)
```js
{
  "error": "No files provided. Please upload at least one file."
}
```

### 7. Caching & Data Retention
- **Temporary Caching**: Processed JSON results are stored for 24 hours for fast retrieval.
- **Security**: Raw files are NOT stored—they are deleted immediately after processing.
- **Reprocessing**: If needed, users can resend the same document anytime for fresh extraction.
